/*! ts 2013-10-04 */
(function(e,t){function r(e){return function(t){return Object.prototype.toString.call(t)==="[object "+e+"]"}}function n(e){for(e=e.replace(N,"/"),e=e.replace(O,"$1/");e.match(U);)e=e.replace(U,"/");return e}function i(e){return e=n(e),_.test(e)?e=e.slice(0,-1):C.test(e)||(e+=".js"),e.replace(":80/","/")}function a(e,t){return D.test(e)?e:K.test(e)?(t||z).match(w)[0]+e:L.test(e)?(z.match(M)||["/"])[0]+e.substring(1):mt.base+e}function s(e,t){if(!e)return"";var r,n=e,s=mt.alias,n=e=s&&x(s[n])?s[n]:n,s=mt.paths;s&&(r=n.match(F))&&x(s[r[1]])&&(n=s[r[1]]+r[2]),r=n;var u=mt.vars;u&&r.indexOf("{")>-1&&(r=r.replace(I,function(e,t){return x(u[t])?u[t]:e})),e=a(r,t),r=e=i(e);var n=mt.map,o=r;if(n)for(s=0;n.length>s&&(o=n[s],o=k(o)?o(r)||r:r.replace(o[0],o[1]),!(o!==r));s++);return o}function u(e,t){var r,n=e.sheet;if(tt)n&&(r=!0);else if(n)try{n.cssRules&&(r=!0)}catch(i){"NS_ERROR_DOM_SECURITY_ERR"===i.name&&(r=!0)}setTimeout(function(){r?t():u(e,t)},20)}function o(){if(J)return J;if(P&&"interactive"===P.readyState)return P;for(var e=V.getElementsByTagName("script"),t=e.length-1;t>=0;t--){var r=e[t];if("interactive"===r.readyState)return P=r}}function c(e){this.uri=e,this.dependencies=[],this.exports=null,this.status=0}function f(e,t){if(S(e)){for(var r=[],n=0;e.length>n;n++)r[n]=f(e[n],t);return r}return r={id:e,refUri:t},B("resolve",r),r.uri||s(r.id,t)}function l(t,r){S(t)||(t=[t]),d(t,function(){for(var n=[],i=0;t.length>i;i++)n[i]=y(it[t[i]]);r&&r.apply(e,n)})}function d(e,t){var r=m(e);if(0===r.length)t();else{B("load",r);for(var n=r.length,i=n,a=0;n>a;a++)(function(e){function r(t){t||(t=n);var r=m(a.dependencies);0===r.length?t():b(a)?(r=pt,r.push(r[0]),R("Circular dependencies: "+r.join(" -> ")),pt.length=0,t(!0)):(ot[e]=r,d(r,t))}function n(e){!e&&lt>a.status&&(a.status=lt),0===--i&&t()}var a=it[e];a.dependencies.length?r(function(t){function r(){n(t)}ft>a.status?h(e,r):r()}):ft>a.status?h(e,r):n()})(r[a])}}function h(e,r){function n(){delete at[a],st[a]=!0,Q&&(v(e,Q),Q=t);var r,n=ut[a];for(delete ut[a];r=n.shift();)r()}it[e].status=ct;var i={uri:e};B("fetch",i);var a=i.requestUri||e;if(st[a])r();else if(at[a])ut[a].push(r);else{at[a]=!0,ut[a]=[r];var s=mt.charset;if(B("request",i={uri:e,requestUri:a,callback:n,charset:s}),!i.requested){var i=i.requestUri,o=Z.test(i),c=W.createElement(o?"link":"script");s&&(s=k(s)?s(i):s)&&(c.charset=s);var f=c;!o||!tt&&"onload"in f?f.onload=f.onerror=f.onreadystatechange=function(){et.test(f.readyState)&&(f.onload=f.onerror=f.onreadystatechange=null,!o&&!mt.debug&&V.removeChild(f),f=t,n())}:setTimeout(function(){u(f,n)},1),o?(c.rel="stylesheet",c.href=i):(c.async=!0,c.src=i),J=c,X?V.insertBefore(c,X):V.appendChild(c),J=t}}}function p(e,r,n){if(1===arguments.length&&(n=e,e=t),!S(r)&&k(n)){var i=[];(""+n).replace(nt,"").replace(rt,function(e,t,r){r&&i.push(r)}),r=i}var a={id:e,uri:f(e),deps:r,factory:n};if(!a.uri&&W.attachEvent){var s=o();s?a.uri=s.src:R("Failed to derive: "+n)}B("define",a),a.uri?v(a.uri,a):Q=a}function v(e,r){var n=it[e]||(it[e]=new c(e));ft>n.status&&(n.id=r.id||e,n.dependencies=f(r.deps||[],e),n.factory=r.factory,n.factory!==t&&(n.status=ft))}function g(e){function r(t){return f(t,e.uri)}function n(e){return y(it[r(e)])}if(!e)return null;if(e.status>=dt)return e.exports;e.status=dt,n.resolve=r,n.async=function(e,t){return l(r(e),t),n};var i=e.factory,i=k(i)?i(n,e.exports={},e):i;return e.exports=i===t?e.exports:i,e.status=ht,e.exports}function m(e){for(var t=[],r=0;e.length>r;r++){var n=e[r];n&&lt>(it[n]||(it[n]=new c(n))).status&&t.push(n)}return t}function y(e){var t=g(e);return null===t&&(!e||!Z.test(e.uri))&&B("error",e),t}function b(e){var t=ot[e.uri]||[];if(0===t.length)return!1;pt.push(e.uri);e:{for(e=0;t.length>e;e++)for(var r=0;pt.length>r;r++)if(pt[r]===t[e]){e=!0;break e}e=!1}if(e){for(e=pt[0],r=t.length-1;r>=0;r--)if(t[r]===e){t.splice(r,1);break}return!0}for(e=0;t.length>e;e++)if(b(it[t[e]]))return!0;return pt.pop(),!1}function $(e){var t=mt.preload,r=t.length;r?l(f(t),function(){t.splice(0,r),$(e)}):e()}function j(e){for(var t in e){var r=e[t];if(r&&"plugins"===t){t="preload";for(var n=[],s=void 0;s=r.shift();)n.push(H+"plugin-"+s);r=n}if((n=mt[t])&&q(n))for(var u in r)n[u]=r[u];else S(n)?r=n.concat(r):"base"===t&&(r=i(a(r+"/"))),mt[t]=r}return B("config",e),A}var E=e.seajs;if(!E||!E.version){var A=e.seajs={version:"2.0.0"},q=r("Object"),x=r("String"),S=Array.isArray||r("Array"),k=r("Function"),R=A.log=function(t,r){e.console&&(r||mt.debug)&&console[r||(r="log")]&&console[r](t)},T=A.events={};A.on=function(e,t){return t?((T[e]||(T[e]=[])).push(t),A):A},A.off=function(e,t){if(!e&&!t)return A.events=T={},A;var r=T[e];if(r)if(t)for(var n=r.length-1;n>=0;n--)r[n]===t&&r.splice(n,1);else delete T[e];return A};var B=A.emit=function(e,t){var r,n=T[e];if(n)for(n=n.slice();r=n.shift();)r(t);return A},w=/[^?#]*\//,N=/\/\.\//g,O=/([^:\/])\/\/+/g,U=/\/[^/]+\/\.\.\//g,C=/\?|\.(?:css|js)$|\/$/,_=/#$/,F=/^([^/:]+)(\/.+)$/,I=/{([^{]+)}/g,D=/:\//,K=/^\./,L=/^\//,M=/^.*?\/\/.*?\//,W=document,Y=location,z=Y.href.match(w)[0],G=W.getElementsByTagName("script"),G=W.getElementById("seajsnode")||G[G.length-1],H=(G.hasAttribute?G.src:G.getAttribute("src",4)).match(w)[0]||z;A.cwd=function(e){return e?z=n(e+"/"):z};var J,P,Q,V=W.getElementsByTagName("head")[0]||W.documentElement,X=V.getElementsByTagName("base")[0],Z=/\.css(?:\?|$)/i,et=/^(?:loaded|complete|undefined)$/,tt=536>1*navigator.userAgent.replace(/.*AppleWebKit\/(\d+)\..*/,"$1"),rt=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,nt=/\\\\/g,it=A.cache={},at={},st={},ut={},ot={},ct=1,ft=2,lt=3,dt=4,ht=5;c.prototype.destroy=function(){delete it[this.uri],delete st[this.uri]};var pt=[];A.use=function(e,t){return $(function(){l(f(e),t)}),A},c.load=l,A.resolve=s,e.define=p,A.require=function(e){return(it[s(e)]||{}).exports};var vt=H,gt=vt.match(/^(.+?\/)(?:seajs\/)+(?:\d[^/]+\/)?$/);gt&&(vt=gt[1]);var mt=j.data={base:vt,charset:"utf-8",preload:[]};A.config=j;var yt,Y=Y.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2"),Y=Y+(" "+W.cookie);if(Y.replace(/seajs-(\w+)=1/g,function(e,t){(yt||(yt=[])).push(t)}),j({plugins:yt}),Y=G.getAttribute("data-config"),G=G.getAttribute("data-main"),Y&&mt.preload.push(Y),G&&A.use(G),E&&E.args)for(G=["define","config","use"],E=E.args,Y=0;E.length>Y;Y+=2)A[G[E[Y]]].apply(A,E[Y+1])}})(this),define("start",["./b","./a"],function(e){var t=e("./b");t.test()}),define("b",["a"],function(e){var t=e("a");return{test:function(){alert("b"),t.test()}}}),define("a",[],function(){return{test:function(){alert("a"),document.addEventListener("click",function(){alert("body click")})}}});